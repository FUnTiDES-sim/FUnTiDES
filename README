###############################
# to compile and install:
###############################

install CALIPER:
   git clone https://github.com/LLNL/Caliper.git
   cd Caliper
   mkdir build && cd build
   cmake -DCMAKE_INSTALL_PREFIX=<path to install location> ..
   make
   make install

in your .bashrc file:
   caliper_install_dir=your caliper installation directory
   export CALIPER_DIR=$caliper_intall_dir/share/cmake/caliper
   export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$caliper_install_dir/lib

in proxyAppSEM:
   edit config.h and set options:
        set(CALIPER_DIR "$ENV{CALIPER_DIR}" CACHE PATH "" FORCE)
        set (SOLVER "solver" CACHE PATH "" FORCE)

        options for solver are:
             sequentialVector
             ompVector

compile and install proxyAppSEM
   mkdir ./build
   cd build
   cmake -DCMAKE_INSTALL_PREFIX=.. ..
   make install

run with "CALI_CONFIG", for example:
   CALI_CONFIG=runtime-report <path_to_bin>/sem.exe
###############################
# to utilize caliper profiler
###############################

# firstly setup the caliper directory as following
# for example on RDHPC

set(caliper_DIR "/data/gpfs/Users/j0535952/work2023/SEMCode_2023/Caliper/install/share/cmake/caliper")

mkdir ./build
cd build
cmake -DCMAKE_INSTALL_PREFIX=.. ..
make
make install

# then run with "CALI_CONFIG", for example:

CALI_CONFIG=runtime-report sem.exe

